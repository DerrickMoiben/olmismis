{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{% static 'boardcss/admin.css' %}">
  <title>Admin Board</title>
  <style>
  </style>
</head>
<body>
  <div class="navbar">
    <span class="toggle-sidebar">â˜°</span> <!-- Menu icon -->
    <h1 style="display: inline-block; margin: 0;">Olmismis   "From Farm to Cup, with Love!"</h1>
  </div>

  <div class="sidebar" id="sidebar">
    <h1>Olmismis</h1>
    <ul>
      <li><a href="{% url 'land_page' %}">Home</a></li>
      <li><a href="{% url 'all-farmers' %}">Farmers</a></li>
      <li><a href="{% url 'admin_edit_requests' %}">Approve edit</a></li>
      <li><a href="{% url 'print-farmer-report' %}">Reports</a></li>
      <li><a href="{% url 'manage_harvests' %}">Season Summary</a></li>
      <li><a href="{% url 'create_season' %}">Create Season</a></li>
      <li><a href="{% url 'create_harvest' %}">Create Harvest</a></li>
      <li><a href="{% url 'select_harvest_for_payment' %}">Make Payment</a></li>
      <!-- Add more links here as needed -->
    </ul>
  </div>

  <div class="main-content">
    <main>
      <section class="board-members">
        <h2>Board Members</h2>
        <div class="board-member-slider">
          <div class="board-member-card">
            <div class="card-content">
              <img src="{% static 'boardimages/chairman.jpg' %}" alt="Chairman">
              <h3>Wesley Too</h3>
            </div>
            <div class="overlay">
              <p>Chairman</p>
            </div>
          </div>
          <div class="board-member-card">
            <div class="card-content">
              <img src="{% static 'boardimages/vice-chairman.jpg' %}" alt="Vice Chairman">
              <h3>James Melly</h3>
            </div>
            <div class="overlay">
              <p>Vice Chairman</p>
            </div>
          </div>
          <div class="board-member-card">
            <div class="card-content">
              <img src="{% static 'boardimages/secretary.jpg' %}" alt="Secretary">
              <h3>Paul Too</h3>
            </div>
            <div class="overlay">
              <p>Secretary</p>
            </div>
          </div>
          <div class="board-member-card">
            <div class="card-content">
              <img src="{% static 'boardimages/treasurer.jpg' %}" alt="Treasurer">
              <h3>Sammy Cheruiyot</h3>
            </div>
            <div class="overlay">
              <p>Treasurer</p>
            </div>
          </div>
        </div>
      </section>
      
      <section class="search-farmer">
        <h2>Search and Edit Farmer</h2>
        <form method="GET" action="{% url 'admin_dashboard' %}">
          <input type="text" name="search_query" placeholder="Enter farmer's name" value="{{ search_query }}">
          <button type="submit">Search</button>
        </form>

        {% if search_query %}
          {% if farmers %}
            <h3>Search Results:</h3>
            <ul>
              {% for farmer in farmers %}
                <li>
                  {{ farmer.name }} - {{ farmer.number }}
                  <a href="{% url 'edit_farmer' farmer.id %}">Edit</a>
                </li>
              {% endfor %}
            </ul>
          {% else %}
            <p>No farmers found for "{{ search_query }}"</p>
          {% endif %}
        {% endif %}
      </section>

      <section class="dashboard">
        <h2>Dashboard</h2>
        <div class="dashboard-widgets">
          <div class="widget">
            <h3>Total Farmers</h3>
            <p>Total Farmers: {{ total_farmers }}</p>
            <p>Total Coffee Weight: {{ total_coffee_weight }}</p>
          </div>
        </div>
      </section>
    </main>
  </div>

  <footer>
    <p>&copy; 2024 Olmismis Farmers Co-operative Society</p>
  </footer>
<script>
  const toggleSidebar = document.querySelector('.toggle-sidebar');
const sidebar = document.getElementById('sidebar');

let sidebarTimeout;

toggleSidebar.addEventListener('click', () => {
  sidebar.classList.toggle('active');
  resetSidebarTimeout();
});

function resetSidebarTimeout() {
  clearTimeout(sidebarTimeout);
  sidebarTimeout = setTimeout(() => {
    sidebar.classList.remove('active');
  }, 5000); // Sidebar will hide after 5 seconds of inactivity
}

// Reset timeout on mouse movement
document.addEventListener('mousemove', resetSidebarTimeout);
document.addEventListener('keydown', resetSidebarTimeout);

</script>
</body>
</html>
